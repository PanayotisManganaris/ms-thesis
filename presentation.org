#+options: ':nil *:t -:t ::t <:t H:2 \n:nil ^:t arch:headline
#+options: author:t broken-links:nil c:nil creator:nil
#+options: d:(not "LOGBOOK") date:t e:t email:nil f:t inline:t num:t
#+options: p:nil pri:nil prop:nil stat:t tags:t tasks:("TODO" "DONE" "NEXT") tex:t
#+options: timestamp:t title:t toc:t todo:t |:t
#+title: \Huge{}Machine Learning Perovskite Bandgaps for Improved Photovoltaics
#+author: \large{}Panayotis Manganaris\inst{1}
#+email: panos.manganaris@gmail.com
#+language: en
#+select_tags: export
#+exclude_tags: noexport
#+creator: Emacs 28.2 (Org mode 9.5.5)
#+cite_export: biblatex
#+bibliography: local-bib.bib
#+latex_class: beamer
#+latex_class_options: [10pt, aspectratio=169, presentation]
#+latex_header:
#+latex_header_extra:\institute[Mannodi Group]{\large{}
#+latex_header_extra:\inst{1} Purdue Materials Engineering\\Advisor Arun Mannodi-Kanakkithodi
#+latex_header_extra:}
#+description:
#+keywords:
#+subtitle:
#+latex_compiler: pdflatex
#+date: \today
#+setupfile: ~/org/beamer_header.org
#+PROPERTY: header-args:jupyter-python :session mrg :kernel mrg :pandoc org :async yes
#+PROPERTY: header-args :results scalar drawer :eval never-export :exports results
* COMMENT dependencies
#+INCLUDE: /home/panos/Documents/manuscripts/DFT+ML+feature_engineering/dependencies.org
#+begin_src jupyter-python
  import datetime
  import io
#+end_src

#+RESULTS:
:results:
:end:

* setup codes
#+begin_src jupyter-python
  class QEParser():
      def __init__(self, filepath):
          """
          Parse Quantum Espresso Electronic Structure Output files.

          instantiate QEParser with a path to a QE output file

          call get_df method to return a long dataframe
          """
          with open(filepath) as f:
              lines = f.readlines()
          self.dstrings = "".join(lines)
          self.nameblock = re.compile(r"[-.]+\n [A-Za-z0-9\.\s\(#\)-]+[-.]+")

      def string_pop(self, string, delimiter):
          """ strings are immutable,
          so this reassigns dstring after splitting """
          datalist = string.split(delimiter)
          data = datalist.pop(0)
          self.dstrings = "".join(datalist)
          return data

      def get_df(self):
          """produce dataframe from init file"""
          nameblocks = re.findall(self.nameblock, self.dstrings)
          names = list(map(lambda s: s.split("\n")[1:-1], nameblocks))
          dfs=[]
          self.dstrings = self.dstrings.replace(nameblocks.pop(0),"")
          for block,name in zip(nameblocks, names):
              dstring = self.string_pop(self.dstrings, block)
              name="\n".join(name).replace(" ", "_").replace("_", "", 1)
              sio = io.StringIO(dstring, newline='\n')
              dfs.append(
                  pd.read_csv(
                      sio, header=0, on_bad_lines='warn'
                  ).assign(name=name)
              )
              sio = io.StringIO(self.dstrings, newline='\n')
          name="\n".join(names[-1]).replace(" ", "_").replace("_", "", 1)
          dfs.append(
              pd.read_csv(
                  sio, header=0, on_bad_lines='warn'
              ).assign(name=name)
          )
          return pd.concat(dfs, axis=0)
#+end_src

#+RESULTS:
:results:
:end:

* Background
# Introduce PVs
# - the band gap controls the lowest energy photon that can be absorbed
# - perovskites demonstrate good transport
# establish recent context
# - advancements
# - other applications
# what perovskites are and why you should care
# 1. familiar BaTiO3
# 2. halide perovskites
# Combinatorial Mixing in-depth Discussion
# - discuss properties which contribute to this performance
# - why we need computational methods
** DONE Photovoltaic (PV) Power Generation                         :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
**** col                                                           :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.3
:END:
#+attr_latex: :width 100
[[file:thin-film-PV.png]]
#+attr_latex: :width 90
[[file:Si-HaP-tandem-PV.png]]

\tiny{}\center{}Perovskite Applications[fn:2]

**** col                                                           :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.7
:END:
***** Band Gap Effects on Absorption Spectrum                   :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
****** col                                                       :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
#+begin_src jupyter-python :post wrap(*this*, w="130pt")
  df = QEParser('/home/panos/Documents/masters/GaN_ZB_AS.txt').get_df()
  p = px.line(df, x='Wavelength (nm)', y=' Absorption Coefficient', color='name',
              height=200, width = 400)
  p.update_yaxes(title='alpha')
  p.add_vline(x=628.019, annotation_text='628 nm',
              line_color='black', line_width=2)
  # p.add_annotation(text='628 nm', x=628, y=0.1, xanchor='left', xshift=50)
  p.update_layout(showlegend=False,
                  margin=dict(t=0,b=0,l=0,r=0))
  p.show(renderer='svg')
#+end_src

#+RESULTS:
:results:
 
#+attr_latex: :width 130pt
#+attr_org: :width 640
[[file:./.ob-jupyter/e7503af7c27d2b1ea6f3f80eb79c3f85ba9928b4.svg]]
:end:

****** col                                                       :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:

\begin{align*}
E_\gamma = \hbar\omega &= bg\,\si{\joule} \\
\implies \frac{hc}{628\,\si{\nano\meter}} &= 3.16\times{}10^{-19}\,\si{\joule}\\
&= 1.97\,\si{\electronvolt}
\end{align*}

***** Perovskite Semiconductors in Solar Energy Harvesting      :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
- 2009 : \(\ce{MAPbI_3}\) dye-sensitized absorber with 3.8% PCE
  [cite:@kojima-2009-organ-halid]
- 2011 : absorber efficiency doubles
  [cite:@im-2011]
- 2013 : \(\ce{MAPbX_3}\) found to transport holes+electrons
  [cite:@saliba-2014-influen-therm]


HaP PVs become competitive in 2013
** Rapid Rise of Perovskite PVs                                    :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.6
:END:

#+DOWNLOADED: screenshot @ 2023-05-15 18:16:32
#+attr_latex: :width 250pt
[[file:Perovskites/2023-05-15_18-16-32_screenshot.png]]

*** COMMENT col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.6
:END:
#+begin_src jupyter-python
  history = pd.read_csv('~/data/perovskites/NREL-pvcell-efficiency.csv', index_col=0)
  x = "Measurement Date"
  y = "Combined efficiency (%)"

  history[x] = history[x].apply(lambda x: datetime.datetime.strptime(x, '%m/%d/%Y'))
#+end_src

#+RESULTS:
:results:
:end:

#+begin_src jupyter-python :post wrap(w="280pt")
  color_map = {
      ('Crystalline Si Cells', 'Single crystal (non-concentrator)'): px.colors.qualitative.Plotly[0],
      ('Emerging PV', 'Perovskite cells'): px.colors.qualitative.Plotly[1],
      ('Single-Junction GaAs', 'Single crystal'): px.colors.qualitative.Plotly[0],
      ('Emerging PV', 'Perovskite/Si tandem (monolithic)'): px.colors.qualitative.Plotly[1],
      ('Thin-Film Technologies', 'CdTe'): px.colors.qualitative.Plotly[2],
  }

  traces = []
  for (cat1, cat2), g in history.groupby(
      ["Eff. Chart Material Class", "Eff. Chart Cell Type"]
  ):
      if (cat1, cat2) in color_map.keys():
          best = g.groupby(x).max(y)[y].cummax()
          trace = go.Scatter(
              x=best.index,
              y=best,
              name=f'{cat1}-{cat2}',
              line_color=color_map[(cat1, cat2)],
              mode='lines+markers'
          )
          traces.append(trace)

  # Create the layout
  layout = go.Layout(
      xaxis_title=x, yaxis_title=y,
      legend=dict(orientation="h", y=1.1)
  )

  p = go.Figure(data=traces, layout=layout)
  p.update_xaxes(
      minor=dict(ticks="inside", showgrid=True)
  )
  p.show(renderer='svg')
#+end_src

#+RESULTS:
:results:
 
#+attr_latex: :width 280pt
[[file:./.ob-jupyter/5a70cef7f43718d2462f4328daceef604482623e.svg]]
:end:

*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.4
:END:
- Cumulative maximum efficiency of PVs tested by accredited laboratories[cite:@research-2023-best-resear]
- Perovskite+Si tandem monolithic cells second only to two-junction \(\ce{GaAs}\)

** What's a Perovskite?                                            :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
# just a few seconds to establish breadth of context
# relaxor : character w/ highly nonlinear dielectric constant and
# diffused ferroelectric to para electric phase transition (no well
# defined Curie temperature)
*** Oxide Perovskites                                     :B_ignoreheading:
:PROPERTIES:
:BEAMER_env: ignoreheading
:END:
Notable oxide perovskites and properties circa 2006
[cite:@jiang-2006-predic-lattic]
**** col                                                           :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
\small
| <K,Ba>BiO3  | super-conduction      |
| Pb<Zr,Ti>O3 | piezoelectric action  |
| Pb<Mb,Mg>O3 | relaxor ferroelectric |
| BaTiO3      | dielectric properties |
**** col                                                           :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
\small
| Pb<Zr,Ti>O3 | electro-optic         |
| LaMnO3      | magneto-resistance    |
| LaCrO3      | catalytic             |
| BaCeO3      | photonic conductivity |
*** fig                                                   :B_ignoreheading:
:PROPERTIES:
:BEAMER_env: ignoreheading
:END:
#+DOWNLOADED: screenshot @ 2022-07-14 15:32:57
#+CAPTION: Barium Titanate functional ceramic
#+attr_latex: :width 170
[[file:Introduction_To_Perovskites/2022-07-14_15-32-57_screenshot.png]]

** Halide Perovskites                                              :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:

#+caption: \(\ce{ABX3}\) Chemical Domain
| /      | <  |    |    |    |    |    |
| A-site | MA | FA | Cs | Rb | K  |    |
| B-site | Pb | Sn | Ge | Ba | Sr | Ca |
| X-site | I  | Br | Cl |    |    |    |

*** COMMENT col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
#+DOWNLOADED: screenshot @ 2022-07-15 23:57:31
#+attr_latex: :width 115
[[file:Introduction_To_Perovskites/2022-07-15_23-57-31_screenshot.png]]
Perovskite Solar Absorber Layer[fn:1]
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
#+latex_attr: :width 140
[[file:hybrid-HaP.png]]

** COMMENT Attractive Properties of Perovskites                            :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
#+DOWNLOADED: screenshot @ 2022-07-16 01:34:42
#+attr_latex: :width 200
[[file:Introduction_To_Perovskites/2022-07-16_01-34-42_screenshot.png]]
Typical severity of gap states
[cite:@mannodi-kanakkithodi-2020-defec-energ]

*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
- robust against carrier scattering
  [cite:@yan-2016-defec-physic]
- spontaneously forming high energy defects unlikely
- edge-states
- finite internal dipole moments
  [cite:@hong-2021-layer-edge]
  - ferroellectrically aligned ligands
  - long luminescence lifetimes
- hydro-stability
  [cite:@fu-2021-two-dimen]
  - hydrophobic ligands

** COMMENT Hybrid Organic-Inorganic Perovskites                            :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
#+DOWNLOADED: screenshot @ 2022-07-18 13:42:36
#+attr_latex: :height 90
#+attr_org: :width 90
[[file:Introduction_To_Perovskites/2022-07-18_13-42-36_screenshot.png]]

\(\alpha\)-Phase \(Pm\bar{3}m\) Hybrid Perovskite Crystal
[cite:@yan-2016-defec-physic]

\(\ce{ABX3}\) with \(\ce{A=CH3NH3+}\) (MA)
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
#+DOWNLOADED: screenshot @ 2022-07-13 19:55:58
#+attr_latex: :height 90 :options angle=90
#+attr_org: :width 90
[[file:Introduction_To_Perovskites/2022-07-13_19-55-58_screenshot.png]]
2-D Ruddlesden-Popper \(Pbca\) Hybrid Perovskite Crystal
[cite:@hong-2021-layer-edge]

\(\ce{L_2BX_4}\) with \(\ce{L=C4H12N+}\) (BA)

Generalizes to LA_{m-1}B_{m}X_{3m+1} perovskite with m>1

* Machine Learning In Materials Science
# discuss DDMD in group context + introduce DFT and ML
# discuss DFT in general -- distance myself from data
# - why dft? uses quantum mechanics -- still expensive big integral
# be prepared to discuss functionals
# combinatorially scaling chemical space
# bandgaps are unpredictably deviating away from vegard's law.
** Data Driven Materials Design                                    :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
#+attr_latex: :width 390
#+attr_org: :width 90
[[file:DDD-flowchart.png]]
\center{}\vspace{-0.5cm}Workflow for accelerating testing and development of new PV materials
[cite:@yang-2023-high-throug;@pablo-2019-new-front]

** COMMENT DFT                                                             :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
** Machine Learning In Materials Science                           :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
An increasingly popular technique for accelerating discovery and
development[cite:@pablo-2019-new-front]
- force fields
- property-prediction
- building on dft
** Regression                                                      :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:

** Learning Algorithms                                             :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
- Decision Tree
- Random Forest
- Linear
- SISSO
- Gaussian Process

** COMMENT Motives for Alternative Features                                :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** Plan of Investigation                                         :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
1. relate various bulk properties of molecules to performance of
   existing perovskite solar absorbers
2. extrapolate into the unknown
*** Known Organic Constituents currently in use                   :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
Literature provides examples of known performant ligands:
- Methylammonium (Cationic Methylamine)
  [cite:@yan-2016-defec-physic]
- Formamidium (Cationic Formamidine)
  [cite:@dimesso-2016-inves-formam]
- Guanidinium (Cationic Guanidine)
  [cite:@zhang-2019-perov-photov]
- Butylammonium (Cationic Butylamine)
  [cite:@hong-2021-layer-edge]

* Data
# model bg because 
# - bg models are more generally useful than SLME
# - SLME is more expensive to compute

# rationalize the use of various features in models
# explain the features vectors, illustrate them graphically somehow
# codomain side
# - choose to model perovskite band gaps per SQ criterion
# domain side
# - various empirical tolerance factors used in screening
# - discuss use of Electronegativity, etc, etc
# pearson plots solidify the vector concept
# - Show Correlations with each LoT!
** Effect of DFT Functionals Levels of Theory                      :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:

#+DOWNLOADED: screenshot @ 2023-05-15 20:04:18
#+latex_attr: :width 400
[[file:Data/2023-05-15_20-04-18_screenshot.png]]

** Band Gap Relates to Efficiency                                  :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
#+begin_src jupyter-python :post wrap(*this*, w="210pt")
  p = px.scatter(Y[Y.LoT == "EXP"], x="bg_eV", y="efficiency", color="mix")
  p.update_xaxes(range=(0, 4), title="Band Gap [eV]")
  p.update_yaxes(range=(0, 0.25), title="Power Conversion Efficiency")
  p.update_layout(showlegend=False,
                  xaxis_tickfont_size=20, yaxis_tickfont_size=20,
                  xaxis_titlefont_size=24, yaxis_titlefont_size=24)
  p.show(renderer='svg')
#+end_src

#+RESULTS:
:results:
 
#+attr_latex: :width 210pt
[[file:./.ob-jupyter/2b677464785e9d1d299f0f955a3af16e9c3b5f7e.svg]]
:end:

*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
#+begin_src jupyter-python :post wrap(*this*, w="210pt")
  p = px.scatter(Y[Y.LoT == "PBE"], x="bg_eV", y="efficiency", color="mix")
  p.update_xaxes(range=(0, 4), title="Band Gap [eV]")
  p.update_yaxes(range=(0, 0.25), title="SLME")
  p.update_layout(xaxis_tickfont_size=20, yaxis_tickfont_size=20,
                  xaxis_titlefont_size=24, yaxis_titlefont_size=24)
  # Add screening lines
  h_lin1 = go.layout.Shape(type='line',
                           x0=1.0, y0=0.0,
                           x1=1.0, y1=0.25,
                           line=dict(color='black', width=2))
  h_lin2 = go.layout.Shape(type='line',
                           x0=2.5, y0=0.0,
                           x1=2.5, y1=0.25,
                           line=dict(color='black', width=2))
  v_line = go.layout.Shape(type='line',
                           x0=0.0, y0=0.15,
                           x1=4.0, y1=0.15,
                           line=dict(color='black', width=2))
  rect = go.layout.Shape(type='rect', #line=dict(color='blue', width=2)
                         x0=1.0, y0=0.15,
                         x1=2.5, y1=0.25,
                         fillcolor='blue', opacity=0.2)
  p.add_shape(h_lin1)
  p.add_shape(h_lin2)
  p.add_shape(v_line)
  p.add_shape(rect)

  p.show(renderer='svg')
#+end_src

#+RESULTS:
:results:
 
#+attr_latex: :width 210pt
[[file:./.ob-jupyter/0c4832ea502cef117df59890aa3341839c46147b.svg]]
:end:

*** non                                                   :B_ignoreheading:
:PROPERTIES:
:BEAMER_env: ignoreheading
:END:
SLME metric accounts for more energetic processes than
Shockley-Queisser criterion (\(bg \approx 1.3\)) allowing selection on range
of bandgaps determined according to level of theory[cite:@yu-2012-ident-poten p.1]

** Variation in Band Gap changes with Level of Theory              :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
#+begin_src jupyter-python
  Y = pd.read_csv(
      "~/Documents/manuscripts/DFT+ML+feature_engineering/Y.csv",
      index_col=0
  )
#+end_src

#+RESULTS:
:results:
:end:

#+begin_src jupyter-python :post wrap(*this*, w="300pt")
  p = px.box(Y, y="bg_eV", x="LoT")
  p.update_yaxes(title="Band Gap [eV]")
  p.update_xaxes(title_font_size=24)
  p.update_yaxes(title_font_size=24, tickfont_size=20)
  p.show('svg')
#+end_src

#+RESULTS:
:results:
 
#+attr_latex: :width 300pt
[[file:./.ob-jupyter/e044073b053593cbfe267508875c51401afb43a3.svg]]
:end:

** Features of Perovskites Descriptive of Band Gap                 :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** composition vectors

** Sample Space                                                    :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:

** Constituent Properties                                          :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** Twelve Properties per \(\ce{ABX_3}\) constituent              :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
**** col                                                           :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
- Ionic Radius
- Boiling Temperature
- Melting Temperature
- Density
- Atomic Weight
- Electron Affinity
**** col                                                           :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.5
:END:
- Ionization Energy
- Heat of Fusion
- Heat of Vaporization
- Electronegativity
- Atomic Number
- Period

** Bivariate Analysis                                              :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
- correlations can be surprising
- some confirm physical expectations

* Multi-Fidelity Learning
# challenges of learning from multiple fidelities
# compare to multi-task learning
# the model places more weight on different observations
# - I created yogi! place higher weight on EXP LoT while optimizing hyperparameters
# - oversampling is an alternative
# show uncertainties in GPR posterior over 5 plots
# Bootstrapping is
# show tables -- table showing effect of single-fideltiy training, effect of comp or prop exclusive
** Multi-fidelity Machine Learning                                 :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
\[
\hat{y}_i = y_i + \epsilon_i \mbox{ for observations } i=1,â€¦,N
\]

- high fidelity :: prior on variance is narrow
- low fidelity :: prior on variance is wide

*** Training Strategy                                             :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
- high fidelity :: prior on variance is narrow
- low fidelity :: prior on variance is wide

** Multi-Fidelity Model Development Workflow                       :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
#+attr_latex: :width 300
[[file:~/Pictures/flowcharts/ML_pipe.png]]

Weightable Machine Learning pipeline implemented in Python
[cite:@manganaris-2022-mrs-comput]

* Models
# SLME improves on SQ to give us performant range of band gaps
# - accounts for additional energetic processes
# - dipole-allowed, dipole-forbidden, indirect band gap
# focus on EXP rmse -- I have the ability!
** Compare Three Methods                                           :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
** Interpreting Models                                             :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
** Shapely Additive Explanation (SHAP)                             :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
* Results
** Make Predictions on Domain Subset                               :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:

** Tolerance Factor                                                :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** Perovskite Stability                                          :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
Stability of high symmetry \alpha phase depends on the ABX member's
ionic radii satisfying Goldschmidt's tolerance:
[cite:@yin-2015-halid-perov]

\[
1 \approx t = \frac{R_A+R_X}{\sqrt{2}*(R_B+R_X)}
\]

Empirically, it is *necessary* that A must be much larger than B
for Perovskite formation. B is usually a large atom (e.g. Pb, Sn) in
Halide Perovskites. So A is suitably occupied by a Molecule -- an
amine -- with an effective ionic radius.
[cite:@kieslich-2015-exten-toler]
** Other Tolerance Factors in Literature                           :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
# all tolerance conditions fitted on distributions of Ionic Radii.
*** Octahedral Factor                                             :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
\[
o=\frac{r_B}{r_X}
\]
*** Bartel Tolerance                                              :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
\[
t_{Bartel}=\frac{r_X}{r_B}-[1-\frac{\frac{r_A}{r_B}}{ln(\frac{r_A}{r_B})}]
\]
proposed recently
[cite:@bartel-2019-new-toler]
*** Ionic Radii                                                   :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
- Elemental Radii are well documented in public databases
- Molecular Radii are defined in various ways, mostly for small
  molecules.

** Screening Yields                                                :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
* COMMENT CGCNN
** CGCNN Introduction                                              :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
- uses pymatgen to make crystal graphs
- predefined sets of features for every atom involved in computation
  [cite:@xie-2018-cryst-graph]

* COMMENT MEGnet
** MEGnet Introduction                                             :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
- uses pymatgen to make crystal graphs
- invites use of custom feature sets
  [cite:@ward-2016-gener-purpos;@chen-2019-graph-networ]
- MFGnet capable of multi-fidelity regressions
  [cite:@chen-2021-learn-proper;@chen-2020-multi-fidel]

* COMMENT Ongoing work
** band gap learning curve                                         :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
#+attr_latex: :width 250pt
[[file:/home/panos/data/alignn/dist_bg_32_100/lc.svg]]
# - uses cgcnn feature set
** band gap parity                                                 :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.7
:END:
#+attr_latex: :width 250
[[file:/home/panos/data/alignn/dist_bg_32_100/pp.svg]]
*** Score                                                   :B_block:BMCOL:
:PROPERTIES:
:BEAMER_env: block
:BEAMER_col: 0.3
:END:
| partition |     rmse |
|-----------+----------|
| test      | 0.063789 |
| train     | 0.211039 |
** COMMENT Decomposition Energy learning curve                             :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
#+attr_latex: :width 250
[[file:/home/panos/data/alignn/dist_de_32_100/lc.svg]]
** COMMENT Decomposition Energy parity                                     :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.7
:END:
#+attr_latex: :width 250
[[file:/home/panos/data/alignn/dist_de_32_100/pp.svg]]
*** Score                                                   :B_block:BMCOL:
:PROPERTIES:
:BEAMER_env: block
:BEAMER_col: 0.3
:END:
| partition |     rmse |
|-----------+----------|
| test      | 0.012009 |
| train     | 0.081978 |
* Summary
** Review of Work                                                  :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
- preexisting data set of ~500 samples from domain of ~40000 single-site mixed compositions
- extract features using =cmcl=
- train models of band gaps measured at multiple fidelities
- ascertain best model
- analyze model accuracy, interpretability of bias and variance
- make predictions on whole sample domain
- Screen for viable candidate compositions

* Credit
** Acknowledgements                                                :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.6
:END:
**** Research Group                                              :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
I am grateful to
- Professor Arun Mannodi-Kanakkithodi for his mentorship, support, and knowledge.
- Professor Erk for her guidance and council
- Professor Strachan for his instruction
- Jiaqi Yang for his collaboration
- Habibur Rahman for his friendship and curiosity
**** COMMENT Experimental Collaborators                          :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
Thanks to Professor David Fenning, Dr. Rishi Kumar for working with us
to validate simulations and predictions.
**** Funding                                                     :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
- Ross Fellowship
- Professor Arun's startup research grant
# F.10023800.05.002
**** Resources                                                   :B_block:
:PROPERTIES:
:BEAMER_env: block
:END:
RCAC Bell Computing Cluster
*** col                                                             :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.4
:END:
#+LATEX: \hspace*{-1cm}
#+attr_latex: :width 200 :center nil
[[file:~/Pictures/mrg-photoshoot/41_Kanakkithodi.jpg]]
* Bib
** References                                                      :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:BEAMER_opt: allowframebreaks
:END:
#+LATEX:\AtNextBibliography{\tiny}
#+LATEX:\printbibliography
* SI                                                             :B_appendix:
:PROPERTIES:
:BEAMER_env: appendix
:END:
** Data Pre-Processing                                             :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
#+attr_latex: :width 300
[[file:~/Pictures/flowcharts/data_proc.png]]
Data pre-processing Workflow to Implement with Python Pandas
** DFT Functionals Effect Band Structure Calculation in HaPs       :B_frame:
:PROPERTIES:
:BEAMER_env: frame
:END:
- D3
- SOC
- PBE semi-local vs HSE hybrid
  - (effects on electronic structure)
  - computational heft
* Footnotes

[fn:2]\tiny{}[[https://www.lesker.com/newweb/ped/applications/perovskite-research.cfm ][www.lesker.com]]
[fn:1]\tiny{}Photo by Dennis Schroeder\newline{}National Renewable Energy Laboratory

# :var c=""
# \n#+CAPTION: $c
#+NAME: wrap
#+begin_src bash :var p="" :var w="300pt"
  echo -ne "$p \n#+attr_latex: :width $w"
#+end_src

#+NAME: wraptbl
#+begin_src bash :var p="" :var w="300pt" :var c=""
  echo -ne "$p \n#+CAPTION: $c "
#+end_src
